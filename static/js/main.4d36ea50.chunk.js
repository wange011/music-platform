(this["webpackJsonpmusic-platform"]=this["webpackJsonpmusic-platform"]||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/add-24px.ca3efbf7.svg"},15:function(e,t,a){e.exports=a.p+"static/media/attach_money-24px.6b1dbb74.svg"},16:function(e,t,a){e.exports=a.p+"static/media/arrow_back-24px.ac944051.svg"},31:function(e,t,a){e.exports=a.p+"static/media/home-24px.5924881c.svg"},32:function(e,t,a){e.exports=a.p+"static/media/favorite-24px.4c67d875.svg"},33:function(e,t,a){e.exports=a.p+"static/media/account_circle-24px.f322cb5a.svg"},36:function(e,t,a){e.exports=a.p+"static/media/capital_one.06f648cd.png"},37:function(e,t,a){e.exports=a(64)},42:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(19),c=a.n(r),s=(a(42),a(2)),o=a(3),l=a(5),m=a(4),u=a(6),p=a(7),d=a(31),f=a.n(d),h=a(32),b=a.n(h),g=a(14),E=a.n(g),v=a(33),L=a.n(v),j=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).componentDidMount=function(e){document.getElementsByClassName("Nav")[0].getElementsByClassName("Link")[0].classList.add("active")},a.handleSwitch=function(e){var t=document.getElementsByClassName("Nav")[0].getElementsByClassName("active")[0];t&&t.classList.remove("active"),e.target.closest(".Link").classList.add("active")},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"Nav"},i.a.createElement("div",{className:"LinkContainer"},i.a.createElement(p.b,{to:"/",onClick:function(t){return e.handleSwitch(t)}},i.a.createElement("div",{className:"Link"},i.a.createElement("img",{src:f.a}),i.a.createElement("p",null,"Home"))),i.a.createElement(p.b,{to:"/favorites",onClick:function(t){return e.handleSwitch(t)}},i.a.createElement("div",{className:"Link"},i.a.createElement("img",{src:b.a}),i.a.createElement("p",null,"Favorites"))),i.a.createElement(p.b,{to:"/upload",onClick:function(t){return e.handleSwitch(t)}},i.a.createElement("div",{className:"Link"},i.a.createElement("img",{src:E.a}),i.a.createElement("p",null,"Upload")))),i.a.createElement("div",{className:"ProfileLinkContainer"},i.a.createElement(p.b,{to:"/account",onClick:function(t){return e.handleSwitch(t)}},i.a.createElement("div",{className:"Link",id:"AccountLink"},i.a.createElement("img",{src:L.a}),i.a.createElement("p",null,"Account Info")))))}}]),t}(n.Component),w=a(15),N=a.n(w),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).componentDidUpdate=function(){0==a.state.artList.length&&0==a.state.writingList&&0==a.state.musicList&&a.setState({artList:a.props.artList,writingList:a.props.writingList,musicList:a.props.musicList})},a.handleFilter=function(e){e.preventDefault();var t=e.target.closest("form").getElementsByTagName("input")[0].value;if(""!==t){var n=a.props.artList.filter((function(e){return console.log(e.title),console.log(t),e.title.toLowerCase().replace(/\s+/g,"").includes(t.toLowerCase().replace(/\s+/g,""))})),i=a.props.writingList.filter((function(e){return e.title.toLowerCase().replace(/\s+/g,"").includes(t.toLowerCase().replace(/\s+/g,""))})),r=a.props.musicList.filter((function(e){return e.title.toLowerCase().replace(/\s+/g,"").includes(t.toLowerCase().replace(/\s+/g,""))}));a.setState({artList:n,writingList:i,musicList:r})}else a.setState({artList:a.props.artList,writingList:a.props.writingList,musicList:a.props.musicList})},a.state={artList:e.artList,writingList:e.writingList,musicList:e.musicList},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.artList.map((function(e){return i.a.createElement(p.b,{to:"/view/"+e.object_id},i.a.createElement("div",{className:"Artwork"},i.a.createElement("img",{src:e.url}),i.a.createElement("div",{className:"ArtworkOverlay"},i.a.createElement("p",null,e.title)),i.a.createElement(p.b,{to:"/donate/"+e.object_id+"/mainpage"},i.a.createElement("button",{className:"w3-circle"},i.a.createElement("img",{src:N.a})))))}));return i.a.createElement("div",{className:"MainPage"},i.a.createElement("div",{className:"SearchBar"},i.a.createElement("form",{onSubmit:function(t){e.handleFilter(t)}},i.a.createElement("input",{type:"text",placeholder:"Search",onChange:function(t){e.handleFilter(t)}}))),i.a.createElement("div",{className:"ArtList"},i.a.createElement("h1",null,"Featured Artworks"),t))}}]),t}(n.Component),_=a(16),y=a.n(_),O=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){for(var e,t,a=this,n=function(){var n=a.props.artList[r];if(n.object_id==a.props.match.params.object_id)return e=n,t=a.props.artList.filter((function(e){return n.object_id!=e.object_id})),"break"},r=0;r<this.props.artList.length;r++){if("break"===n())break}var c=function(){var n=a.props.writingList[r];if(n.object_id==a.props.match.params.object_id)return e=n,t=a.props.writingList.filter((function(e){return n.object_id!=e.object_id})),"break"};for(r=0;r<this.props.writingList.length;r++){if("break"===c())break}var s=function(){var n=a.props.musicList[r];if(n.object_id==a.props.match.params.object_id)return e=n,t=a.props.musicList.filter((function(e){return n.object_id!=e.object_id})),"break"};for(r=0;r<this.props.musicList.length;r++){if("break"===s())break}if(!e)return i.a.createElement("div",{className:"ArtPageWrapper"});if("IMAGE"===e.creation_type){var o=t.map((function(e){return i.a.createElement(p.b,{to:"/view/"+e.object_id},i.a.createElement("div",{className:"Artwork"},i.a.createElement("img",{src:e.url})))}));return i.a.createElement("div",{className:"ArtPage"},i.a.createElement(p.b,{to:"/"},i.a.createElement("button",{className:"BackButton w3-circle"},i.a.createElement("img",{src:y.a}))),i.a.createElement("div",{className:"ArtCard"},i.a.createElement("img",{src:e.url}),i.a.createElement("p",null,e.title),i.a.createElement(p.b,{to:"/donate/"+e.object_id+"/artpage"},i.a.createElement("button",{className:"w3-button"},i.a.createElement("img",{src:N.a}),i.a.createElement("p",null,"Donate")))),i.a.createElement("h1",null,"Some Other Works You Might Be Interested In"),i.a.createElement("br",null),i.a.createElement("div",{className:"recommended"},o))}}}]),t}(n.Component),C=(n.Component,a(36)),A=a.n(C),T=function(e){function t(e){var a,n;Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).componentDidUpdate=function(){if(!a.state.piece){for(var e,t=0;t<a.props.artList.length;t++){var n=a.props.artList[t];if(n.object_id==a.props.match.params.object_id){e=n;break}}for(t=0;t<a.props.writingList.length;t++){var i=a.props.writingList[t];if(i.object_id==a.props.match.params.object_id){e=i;break}}for(t=0;t<a.props.musicList.length;t++){var r=a.props.musicList[t];if(r.object_id==a.props.match.params.object_id){e=r;break}}a.setState({piece:e,balance:a.props.balance})}a.state.uid||a.setState({uid:a.props.uid})},a.handleDonate=function(e){var t=e.target.closest(".DonationForm"),n=t.getElementsByTagName("input")[1].value;n>a.state.balance||fetch(" http://ec2-52-90-105-22.compute-1.amazonaws.com/api/make_transfer?source_uid="+a.state.uid+"&destination_uid="+a.state.piece.author_id+"&amount="+n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){if(e.ok){var a=t.parentNode;a.removeChild(t),a.getElementsByTagName("h1")[0].style.visibility="visible"}}))};for(var i=0;i<a.props.artList.length;i++){var r=a.props.artList[i];if(r.object_id==a.props.match.params.object_id){n=r;break}}for(i=0;i<a.props.writingList.length;i++){var c=a.props.writingList[i];if(c.object_id==a.props.match.params.object_id){n=c;break}}for(i=0;i<a.props.musicList.length;i++){var o=a.props.musicList[i];if(o.object_id==a.props.match.params.object_id){n=o;break}}return a.state={piece:n,balance:e.balance,uid:e.uid},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;if(!this.state.piece)return i.a.createElement("div",{className:"DonationPage col-sm-9"});var t="/";return"artpage"===this.props.match.params.return&&(t="/view/"+this.state.piece.object_id),i.a.createElement("div",{className:"DonationPage col-sm-9"},i.a.createElement(p.b,{to:t},i.a.createElement("button",{className:"BackButton w3-circle"},i.a.createElement("img",{src:y.a}))),i.a.createElement("div",{className:"DonationForm"},i.a.createElement("div",{className:"DonationInputs"},i.a.createElement("label",{className:"left"},"Donating To"),i.a.createElement("label",{className:"right"},"Donation Amount"),i.a.createElement("input",{className:"w3-input",type:"text",placeholder:this.state.piece.author_handle,disabled:!0}),i.a.createElement("input",{className:"w3-input",type:"number",placeholder:"1.00",onSubmit:function(e){e.preventDefault()}}),i.a.createElement("label",{className:"MessageLabel"},"Donation Message"),i.a.createElement("textarea",{placeholder:"Message",onSubmit:function(e){e.preventDefault()}})),i.a.createElement("div",{className:"PaymentMethods"},i.a.createElement("h2",null,"PAYMENT METHOD"),i.a.createElement("div",{className:"PaymentMethod"},i.a.createElement("img",{src:A.a}),i.a.createElement("h3",null,"Capital One Banking Account"),i.a.createElement("p",null,"Current Balance: ",this.state.balance))),i.a.createElement("button",{className:"w3-button",onClick:function(t){return e.handleDonate(t)}},"Donate")),i.a.createElement("h1",null,"Thanks For Your Donation!"))}}]),t}(n.Component),D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).handleUpload=function(e){var t=e.target.files[0].name;e.target.closest(".FileUpload").getElementsByTagName("label")[0].getElementsByClassName("FileName")[0].innerHTML=t,e.target.closest(".FileUpload").getElementsByTagName("label")[0].getElementsByTagName("img")[0].style.visibility="hidden"},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"UploadPage col-sm-9 row"},i.a.createElement("div",{className:"UploadForm col-sm-6"},i.a.createElement("label",null,"Title"),i.a.createElement("input",{className:"w3-input",type:"text"}),i.a.createElement("label",null,"Url"),i.a.createElement("input",{className:"w3-input",type:"text",placeholder:"Optional"}),i.a.createElement("button",{className:"w3-button",onClick:function(t){return e.handleSubmit(t)}},"Upload")),i.a.createElement("div",{className:"FileUpload col-sm-6"},i.a.createElement("label",{for:"file-upload",class:"custom-file-upload"},i.a.createElement("img",{src:E.a}),i.a.createElement("p",{class:"FileName"})),i.a.createElement("input",{id:"file-upload",type:"file",onChange:function(t){e.handleUpload(t)}})))}}]),t}(n.Component),S=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"AccountDetails col-sm-9"},i.a.createElement("p",null,"Account Details"),i.a.createElement("p",null,this.props.username))}}]),t}(n.Component),x=a(12),B=a(22),M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){!function e(){fetch(" http://ec2-52-90-105-22.compute-1.amazonaws.com/api/get_all_objects",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.getArt(e.objects)})),setTimeout(e,5e3)}(),function e(){fetch(" http://ec2-52-90-105-22.compute-1.amazonaws.com/api/get_balance?source_uid="+a.state.uid,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e&&fetch(" http://ec2-52-90-105-22.compute-1.amazonaws.com/api/get_transfers?uid="+a.state.uid,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){if(t.length!=a.state.num_transfers){var n=t[t.length-1];if(a.state.balance<e.balance)return a.createNotification(n),void a.setState({balance:e.balance,transfers:t,num_transfers:t.length})}a.setState({balance:e.balance})}))})),setTimeout(e,5e3)}()},a.getArt=function(e){for(var t=[],n=[],i=[],r=0;r<e.length;r++){var c=e[r];"IMAGE"===c.creation_type&&t.push(c),"TEXT"===c.creation_type&&n.push(c),"MUSIC"===c.creation_type&&i.push(c)}a.setState({artList:t,writingList:n,musicList:i})},a.createNotification=function(e){B.NotificationManager.success("You were donated "+e.amount+" dollar(s)","Donation!")},a.state={uid:e.uid,balance:e.balance,transfers:e.transfers,num_transfers:e.transfers.length,artList:[],writingList:[],musicList:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(p.a,null,i.a.createElement("div",{className:"Home row"},i.a.createElement(j,null),i.a.createElement(B.NotificationContainer,null),i.a.createElement(x.c,null,i.a.createElement(x.a,{path:"/",exact:!0,render:function(){return i.a.createElement(k,{artList:e.state.artList,writingList:e.state.writingList,musicList:e.state.musicList})}}),i.a.createElement(x.a,{path:"/favorites",render:function(){return i.a.createElement(k,{artList:e.state.artList,writingList:e.state.writingList,musicList:e.state.musicList})}}),i.a.createElement(x.a,{path:"/account",render:function(){return i.a.createElement(S,{uid:e.props.uid,balance:e.props.balance})}}),i.a.createElement(x.a,{path:"/view/:object_id",exact:!0,render:function(t){return i.a.createElement(O,Object.assign({},t,{artList:e.state.artList,writingList:e.state.writingList,musicList:e.state.musicList}))}}),i.a.createElement(x.a,{path:"/donate/:object_id/:return",exact:!0,render:function(t){return i.a.createElement(T,Object.assign({},t,{artList:e.state.artList,writingList:e.state.writingList,musicList:e.state.musicList,balance:e.state.balance,uid:e.state.uid}))}}),i.a.createElement(x.a,{path:"/upload",component:D}))))}}]),t}(n.Component),F=(a(62),a(63),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleLogin=function(e){e.preventDefault();var t=e.target.closest(".w3-container").getElementsByTagName("input")[1].value;fetch(" http://ec2-52-90-105-22.compute-1.amazonaws.com/api/get_balance?source_uid="+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return!!e.ok&&e.json()})).then((function(e){e&&fetch(" http://ec2-52-90-105-22.compute-1.amazonaws.com/api/get_transfers?uid="+e.uid,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){a.setState({balance:e.balance,uid:e.uid,transfers:t,loggedIn:!0})}))}))},a.state={loggedIn:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return this.state.loggedIn?i.a.createElement("div",{className:"App"},i.a.createElement(M,{uid:this.state.uid,balance:this.state.balance,transfers:this.state.transfers})):i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"Login col-sm-6"},i.a.createElement("form",{className:"w3-container"},i.a.createElement("label",null,"Username"),i.a.createElement("input",{className:"w3-round",type:"text",onSubmit:function(e){e.preventDefault()}}),i.a.createElement("label",null,"Password"),i.a.createElement("input",{className:"w3-round",type:"password",onSubmit:function(e){e.preventDefault()}}),i.a.createElement("button",{className:"w3-button",onClick:function(t){return e.handleLogin(t)}},"Login"),i.a.createElement("a",null,i.a.createElement("p",null,"I don't have an account")))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[37,1,2]]]);
//# sourceMappingURL=main.4d36ea50.chunk.js.map